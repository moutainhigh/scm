<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1,user-scalable=no">
    <title>库存管理</title>
    <link href="../js/plugin/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="../css/home.css" rel="stylesheet">
</head>
<body>
<div class="container-fluid">
    <div class="row">
        <div class="col-md-12 titleDIV">库存管理</div>
    </div>

    <div class="row ">
        <div class="col-md-12 queryDIV form-inline">
            <div style=" float: left;">
                <button class="btn btn-primary" data-toggle="modal" data-target="#saveModal">
                    <span class="glyphicon glyphicon-plus"></span>
                    新增物资
                </button>
            </div>
            <div  style=" float: right;">
                <input type="text" class="form-control" id="key" placeholder="按物资名称搜索">
                <button type="button" class="btn btn-primary" onclick="load('1')"><span class="glyphicon glyphicon-search"></span>查询</button>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-md-12 listDIV">
            <table class="table table-striped table-bordered table-hover">
                <thead style="background-color: #EEEEEE;">
                <tr>
                    <th class="col-md-1">序号</th>
                    <th class="col-md-2">物资名称</th>
                    <th class="col-md-1">物资型号</th>
                    <th class="col-md-1">单位</th>
                    <th class="col-md-1">库存数量</th>
                    <th class="col-md-2">所属仓库</th>
                    <th class="col-md-2">创建时间</th>
                    <th class="col-md-2">操作</th>
                </tr>
                </thead>
                <tbody id = "tbody">
                </tbody>
            </table>
            <div id="page" style="float: right;" class="tr"></div>
        </div>
    </div>
</div>

<!-- 新增库存-->
<div class="modal fade" id="saveModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">
                    &times;
                </button>
                <h4 class="modal-title" id="myModalLabel">
                    初始化库存
                </h4>
            </div>
            <div class="modal-body">
                <form id = "save-form"  class="form-horizontal" style="margin-right: 10%;">

                    <div class="form-group">
                        <label for="product" class="col-md-3 control-label">物资名称</label>
                        <div class="col-md-9">
                            <input type="text" class="form-control" id="product" name = "product" placeholder="物资名称" autocomplete="off">
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="model" class="col-md-3 control-label">物资型号</label>
                        <div class="col-md-9">
                            <input type="text" class="form-control" id="model" name = "model" placeholder="物资型号" autocomplete="new-password">
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="unit" class="col-md-3 control-label">单位</label>
                        <div class="col-md-9">
                            <input type="text" class="form-control" id="unit" name = "unit" placeholder="单位" autocomplete="new-password">
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="warehouseId" class="col-md-3 control-label">所属仓库</label>
                        <div class="col-md-9">
                            <select id="warehouseId" name="warehouseId" class="form-control selectpicker" data-live-search="true">

                            </select>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="count" class="col-md-3 control-label">库存数量</label>
                        <div class="col-md-9">
                            <input type="text" class="form-control" id="count" name = "count" placeholder="库存数量" autocomplete="new-password">
                        </div>
                    </div>

                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" id = "save-close-btn" data-dismiss="modal">关闭</button>
                <button type="button" class="btn btn-primary" onclick="save()">保存</button>
            </div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal -->
</div>


<!-- 修改物资信息 -->
<div class="modal fade" id="editModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">
                    &times;
                </button>
                <h4 class="modal-title">
                    修改物资信息
                </h4>
            </div>
            <div class="modal-body">
                <form id = "edit-form"  class="form-horizontal" style="margin-right: 10%;">
                    <input type="hidden" id = "id_e">
                    <div class="form-group">
                        <label for="product_e" class="col-md-3 control-label">物资名称</label>
                        <div class="col-md-9">
                            <input type="text" class="form-control" id="product_e" name = "product_e" placeholder="物资名称" autocomplete="off">
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="model_e" class="col-md-3 control-label">物资型号</label>
                        <div class="col-md-9">
                            <input type="text" class="form-control" id="model_e" name = "model_e" placeholder="物资型号" autocomplete="new-password">
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="unit_e" class="col-md-3 control-label">单位</label>
                        <div class="col-md-9">
                            <input type="text" class="form-control" id="unit_e" name = "unit_e" placeholder="单位" autocomplete="new-password">
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="warehouseId_e" class="col-md-3 control-label">所属仓库</label>
                        <div class="col-md-9">
                            <select id="warehouseId_e" name="warehouseId_e" class="form-control selectpicker" data-live-search="true">

                            </select>
                        </div>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" id = "edit-close-btn" data-dismiss="modal">关闭</button>
                <button type="button" class="btn btn-primary" onclick="editSave()">修改</button>
            </div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal -->
</div>

<!-- 修改库存信息 -->
<div class="modal fade" id="editModal_count" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">
                    &times;
                </button>
                <h4 class="modal-title">
                    修改库存
                </h4>
            </div>
            <div class="modal-body">
                <form id = "edit-form-count"  class="form-horizontal" style="margin-right: 10%;">
                    <input type="hidden" id = "id_count_e">
                    <div class="form-group">
                        <label for="count_e" class="col-md-3 control-label">库存数量</label>
                        <div class="col-md-9">
                            <input type="text" class="form-control" id="count_e" name = "count_e" placeholder="库存数量" autocomplete="off">
                        </div>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" id = "edit-count-close-btn" data-dismiss="modal">关闭</button>
                <button type="button" class="btn btn-primary" onclick="editCountSave()">修改</button>
            </div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal -->
</div>


<!-- 库存变动明细 -->
<div class="modal fade" id="detail" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog" style="width: 75%">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">
                    &times;
                </button>
                <h4 class="modal-title">
                    库存变动明细
                </h4>
            </div>
            <div class="modal-body">

                <div class="row ">
                    <div class="col-md-12 queryDIV form-inline">
                        <div >
                            <input type="hidden" id = "detail_id">
                            <label>变更时间</label>
                            <input type="text" class="form-control date-Input" id="startDate" name="createtime" placeholder="开始时间" readonly="readonly" onclick="WdatePicker({dateFmt:'yyyy-MM-dd',maxDate:'#F{$dp.$D(\'endDate\')}'})">
                            至 <input type="text" class="form-control date-Input" id="endDate" name="createtime" placeholder="结束时间" readonly="readonly" onclick="WdatePicker({dateFmt:'yyyy-MM-dd',minDate:'#F{$dp.$D(\'startDate\')}'})">
                            <button type="button" class="btn btn-primary" onclick="loadDetail('1')"><span class="glyphicon glyphicon-search"></span>查询</button>
                    </div>
                    </div>
                <div class="row">
                    <div class="col-md-12 listDIV">
                        <table class="table table-striped table-bordered table-hover">
                            <thead style="background-color: #EEEEEE;">
                            <tr>
                                <th class="col-md-1">序号</th>
                                <th class="col-md-2">变更类型</th>
                                <th class="col-md-1">变更用户</th>
                                <th class="col-md-1">变更数量</th>
                                <th class="col-md-2">关联工程</th>
                                <th class="col-md-2">变更时间</th>
                            </tr>
                            </thead>
                            <tbody id = "tdetailbody">
                            </tbody>
                        </table>
                        <div id="detailpage" style="float: right;" class="tr"></div>
                    </div>
                </div>

            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" id = "detail-close-btn" data-dismiss="modal">关闭</button>
            </div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal -->
</div>

<script src="../js/plugin/dist/js/jquery.min.js"></script>
<script src="../js/plugin/dist/js/bootstrap.min.js"></script>
<script src="../js/stock/stockInfo_list.js"></script>
</body>
</html>
